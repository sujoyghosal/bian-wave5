swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Card Clearing'
 description: >

    ## Executive Summary:

    This service domain orchestrates the capture and consolidation of card financial transactions originating from various sources, such as POS Network, E-Commerce Gateway, ATM Network, or Card Case Management. It also handles the clearing of the transactions from the Acquirers to the Issuers through the Card Networks

    ## Example of Use:

    An Acquiring Bank receives charge transactions submitted by Merchants through Point of Sale Terminals or batch submission for recurring billing and forwards these transactions to the respective Card Issuing Banks through the Card Network (e.g. Visa, MC, AMEX, Diners, etc.). This process may take place multiple times during the day.

    ## Description:

    The behavior varies depending on the role of the participant bank/network. A card acquiring Bank consolidates all incoming transactions from Merchants, determining their routing, and transmitting to the respective Card Networks. For the Card Networks it receives and consolidates the transactions from all Acquiring Banks and to distribute and route them to the respective Card Issuing Banks. For the Card Issuing Banks it receives their cardholder transactions from the Card Networks and routes them to the instance of the Credit/Charge Card service domain which is responsible for the card used in the transaction. The transactions may include charges, refunds, and chargebacks.

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-card-clearing/1.0.0
schemes:
 - https
paths:
  /card-clearing/activation:
    post:
      tags:
      - activate
      operationId: activateSDCardClearing
      summary: Activate  a SDCardClearing servicing session
      description: Activate  a  SDCardClearing servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCardClearing Request Payload
        schema:
          $ref: '#/definitions/SDCardClearingActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCardClearingActivateOutputModel'
  /card-clearing/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCardClearing
      summary: Update an active SDCardClearing session configuration
      description: Update an active SDCardClearing session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCardClearing Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCardClearing Configure Request Payload
        schema:
          $ref: '#/definitions/SDCardClearingConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCardClearingConfigureOutputModel'
  /card-clearing/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCardClearing
      summary: "Capturing feedback against the SDCardClearing service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCardClearing service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCardClearing Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCardClearing Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCardClearingFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCardClearingFeedbackOutputModel'
  /card-clearing/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCardClearing
      summary: Analytical views maintained by the SDCardClearing service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCardClearing service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCardClearing Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCardClearingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCardClearingRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCardClearingProcedure
      summary: Details of a new CardClearingProcedure instance
      description: Initiate a card clearing process
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CardClearingProcedure Request Payload
        schema:
          $ref: '#/definitions/CRCardClearingProcedureInitiateInputModel'
      responses:
        201:
          description: Successful initiation of new CardClearingProcedure instance
          schema:
            $ref: '#/definitions/CRCardClearingProcedureInitiateOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCardClearingProcedure
      summary: Update to any amendable fields of the CardClearingProcedure instance
      description: Update details of a card clearing processing batch
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Card Clearing Procedure Request Payload
        schema:
          $ref: '#/definitions/CRCardClearingProcedureUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Card Clearing Procedure Instance
          schema:
            $ref: '#/definitions/CRCardClearingProcedureUpdateOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearing
      summary: Invoke a reporting action to obtain a Card Clearing Procedure instance related report
      description: Retrieve details about a card clearing process
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCardClearingProcedureRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Card Clearing Procedure Instance
          schema:
            $ref: '#/definitions/CRCardClearingProcedureRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/capture/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCardClearingProcedureCapture
      summary: Update to any amendable fields of the Capture instance
      description: Update details of a captured card transaction (for repair)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Capture Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Capture Request Payload
        schema:
          $ref: '#/definitions/BQCaptureUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Capture Instance
          schema:
            $ref: '#/definitions/BQCaptureUpdateOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/capture/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureCapture
      summary: Invoke a reporting action to obtain a Capture instance related report.
      description: Retrieve details about a captured card transaction .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Capture Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQCaptureRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Capture Instance Record
          schema:
            $ref: '#/definitions/BQCaptureRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/addressing/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureAddressing
      summary: Invoke a reporting action to obtain a Addressing instance related report.
      description: Retrieve details about card transaction addressing .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Addressing Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQAddressingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Addressing Instance Record
          schema:
            $ref: '#/definitions/BQAddressingRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/fxconversion/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureFXConversion
      summary: Invoke a reporting action to obtain a FXConversion instance related report.
      description: Retrieve details about card transaction FX conversion .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: FXConversion Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQFXConversionRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved FXConversion Instance Record
          schema:
            $ref: '#/definitions/BQFXConversionRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/fees/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCardClearingProcedureFees
      summary: Update to any amendable fields of the Fees instance
      description: Update details of applied fees
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Fees Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Fees Request Payload
        schema:
          $ref: '#/definitions/BQFeesUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Fees Instance
          schema:
            $ref: '#/definitions/BQFeesUpdateOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/fees/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureFees
      summary: Invoke a reporting action to obtain a Fees instance related report.
      description: Retrieve details about card transaction intercharge fees .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Fees Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQFeesRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Fees Instance Record
          schema:
            $ref: '#/definitions/BQFeesRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/matching/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureMatching
      summary: Invoke a reporting action to obtain a Matching instance related report.
      description: Retrieve details about card transaction matching .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Matching Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQMatchingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Matching Instance Record
          schema:
            $ref: '#/definitions/BQMatchingRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/reconciliation/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureReconciliation
      summary: Invoke a reporting action to obtain a Reconciliation instance related report.
      description: Retrieve details about card transaction reconciliation .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Reconciliation Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQReconciliationRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Reconciliation Instance Record
          schema:
            $ref: '#/definitions/BQReconciliationRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/routing/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCardClearingProcedureRouting
      summary: Invoke a reporting action to obtain a Routing instance related report.
      description: Retrieve details about card transaction routing .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Routing Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQRoutingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Routing Instance Record
          schema:
            $ref: '#/definitions/BQRoutingRetrieveOutputModel'
  /card-clearing/{sd-reference-id}/card-clearing-procedure:
    get:
      tags:
      - retrieve
      operationId: RetrieveCardClearingReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CardClearing Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /card-clearing/card-clearing-procedure/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCardClearingBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'Capture',  'Addressing',  'FXConversion',  'Fees',  'Matching',  'Reconciliation',  'Routing', ]
  /card-clearing/{sd-reference-id}/card-clearing-procedure/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCardClearingBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Card Clearing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Card Clearing Procedure Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- Routing
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- Routing Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [RoutingID1, RoutingID2]
