swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Customer Product Service Eligibility'
 description: >

    ## Executive Summary:

    This service domain maintains a profile of the products and services for which the customer is eligible and which they currently use/subscribe to. The profile can include specific terms or other considerations that do or would apply. The profile is used to support sales activity in particular

    ## Example of Use:

    Example of use:A customer calls the contact center to find out about deposit investment products, their current product use and eligibility is referenced to identify candidate products for consideration

    ## Description:

    This service domain supports business development/customer sales by maintaining a view of the available products/services for which a customer is eligible, including any specific terms and/or constraints that might apply. It also tracks the current 'sold' position for the customer identifying the opportunity to sell additional products/services or highlighting an over-sold position (i.e. where a customer has a product for which they may no longer be eligible).

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-customer-product-service-eligibility/1.0.0
schemes:
 - https
paths:
  /customer-product-service-eligibility/activation:
    post:
      tags:
      - activate
      operationId: activateSDCustomerProductServiceEligibility
      summary: Activate  a SDCustomerProductServiceEligibility servicing session
      description: Activate  a  SDCustomerProductServiceEligibility servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCustomerProductServiceEligibility Request Payload
        schema:
          $ref: '#/definitions/SDCustomerProductServiceEligibilityActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCustomerProductServiceEligibilityActivateOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCustomerProductServiceEligibility
      summary: Update an active SDCustomerProductServiceEligibility session configuration
      description: Update an active SDCustomerProductServiceEligibility session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerProductServiceEligibility Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerProductServiceEligibility Configure Request Payload
        schema:
          $ref: '#/definitions/SDCustomerProductServiceEligibilityConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCustomerProductServiceEligibilityConfigureOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCustomerProductServiceEligibility
      summary: "Capturing feedback against the SDCustomerProductServiceEligibility service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCustomerProductServiceEligibility service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerProductServiceEligibility Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerProductServiceEligibility Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCustomerProductServiceEligibilityFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCustomerProductServiceEligibilityFeedbackOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCustomerProductServiceEligibility
      summary: Analytical views maintained by the SDCustomerProductServiceEligibility service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCustomerProductServiceEligibility service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerProductServiceEligibility Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCustomerProductServiceEligibilityRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCustomerProductServiceEligibilityRetrieveOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerEligibilityAssessment
      summary: Details of a new CustomerEligibilityAssessment instance
      description: Evaluate a customer's eligibility for a product/service
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerEligibilityAssessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of new CustomerEligibilityAssessment instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentEvaluateOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerEligibilityAssessment
      summary: Update to any amendable fields of the CustomerEligibilityAssessment instance
      description: Update an evaluation requestÂ 
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Eligibility Assessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentUpdateOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCustomerEligibilityAssessmentUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, reject, verify etc. an eligibility assessment
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Eligibility Assessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentExchangeOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/execution:
    put:
      tags:
      - execute
      operationId: executeCustomerEligibilityAssessmentUpdate
      summary: Invoke an automated execute action against the CustomerEligibilityAssessment instance
      description: Execute an automated action against an active evaluation (e.g. provide additional data)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Eligibility Assessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentExecuteInputModel'
      responses:
        200:
          description: Successful execution of Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentExecuteOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerEligibilityAssessmentUpdate
      summary: Invoke a service request action against the CustomerEligibilityAssessment instance
      description: Request manual intervention in an evaluation (e.g. engage a specialist or negotiator)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Eligibility Assessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentRequestInputModel'
      responses:
        200:
          description: Successful requisition of Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentRequestOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantCustomerEligibilityAssessmentUpdate
      summary: Invoke a grant request action from the CustomerEligibilityAssessment instance to obtain access permission
      description: Obtain a permission grant reflecting eligibility (perhaps defining a term or other considerations)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Eligibility Assessment Request Payload
        schema:
          $ref: '#/definitions/CRCustomerEligibilityAssessmentGrantInputModel'
      responses:
        200:
          description: Successful grant of Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentGrantOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerProductServiceEligibility
      summary: Invoke a reporting action to obtain a Customer Eligibility Assessment instance related report
      description: Retrieve details about an eligibility request
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCustomerEligibilityAssessmentRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Customer Eligibility Assessment Instance
          schema:
            $ref: '#/definitions/CRCustomerEligibilityAssessmentRetrieveOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/eligibilitycheck/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerEligibilityAssessmentEligibilityCheck
      summary: Invoke a reporting action to obtain a EligibilityCheck instance related report.
      description: Retrieve details about an eligibility assessment .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: EligibilityCheck Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQEligibilityCheckRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved EligibilityCheck Instance Record
          schema:
            $ref: '#/definitions/BQEligibilityCheckRetrieveOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/nextbest/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerEligibilityAssessmentNextBest
      summary: Update to any amendable fields of the NextBest instance
      description: Update details about a next best eligibility test
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: NextBest Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: NextBest Request Payload
        schema:
          $ref: '#/definitions/BQNextBestUpdateInputModel'
      responses:
        200:
          description: Successfully Updated NextBest Instance
          schema:
            $ref: '#/definitions/BQNextBestUpdateOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/nextbest/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerEligibilityAssessmentNextBest
      summary: Invoke a reporting action to obtain a NextBest instance related report.
      description: Retrieve details about a next best test .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: NextBest Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQNextBestRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved NextBest Instance Record
          schema:
            $ref: '#/definitions/BQNextBestRetrieveOutputModel'
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerProductServiceEligibilityReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CustomerProductServiceEligibility Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /customer-product-service-eligibility/customer-eligibility-assessment/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerProductServiceEligibilityBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'EligibilityCheck',  'NextBest', ]
  /customer-product-service-eligibility/{sd-reference-id}/customer-eligibility-assessment/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerProductServiceEligibilityBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Product Service Eligibility Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Eligibility Assessment Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- NextBest
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- NextBest Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [NextBestID1, NextBestID2]
