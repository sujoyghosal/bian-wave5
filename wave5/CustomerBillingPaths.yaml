swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Customer Billing'
 description: >

    ## Executive Summary:

    This service domains provides a central service to compose, issue and track customer billing and invoices

    ## Example of Use:

    An invoice is raised for the fees and commissions applicable to a managed investment portfolio

    ## Description:

    This service domain provides a general customer billing service. The service domain is provided with the applicable fees and charges that are authorized for invoicing typically by a product or service fulfillment service domain. Processing can include verification and authorizations steps and the invoice could be issued as a single transaction or a schedule of transactions.

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-customer-billing/1.0.0
schemes:
 - https
paths:
  /customer-billing/activation:
    post:
      tags:
      - activate
      operationId: activateSDCustomerBilling
      summary: Activate  a SDCustomerBilling servicing session
      description: Activate  a  SDCustomerBilling servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCustomerBilling Request Payload
        schema:
          $ref: '#/definitions/SDCustomerBillingActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCustomerBillingActivateOutputModel'
  /customer-billing/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCustomerBilling
      summary: Update an active SDCustomerBilling session configuration
      description: Update an active SDCustomerBilling session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerBilling Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerBilling Configure Request Payload
        schema:
          $ref: '#/definitions/SDCustomerBillingConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCustomerBillingConfigureOutputModel'
  /customer-billing/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCustomerBilling
      summary: "Capturing feedback against the SDCustomerBilling service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCustomerBilling service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerBilling Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerBilling Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCustomerBillingFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCustomerBillingFeedbackOutputModel'
  /customer-billing/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCustomerBilling
      summary: Analytical views maintained by the SDCustomerBilling service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCustomerBilling service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerBilling Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCustomerBillingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCustomerBillingRetrieveOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCustomerBillingProcedure
      summary: Details of a new CustomerBillingProcedure instance
      description: Initiate customer billing for a customer
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerBillingProcedure Request Payload
        schema:
          $ref: '#/definitions/CRCustomerBillingProcedureInitiateInputModel'
      responses:
        201:
          description: Successful initiation of new CustomerBillingProcedure instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureInitiateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerBillingProcedure
      summary: Update to any amendable fields of the CustomerBillingProcedure instance
      description: Update details of a customer billing transaction
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/CRCustomerBillingProcedureUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Customer Billing Procedure Instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureUpdateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlCustomerBillingProcedureUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the processing of customer billing (e.g. delay)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/CRCustomerBillingProcedureControlInputModel'
      responses:
        200:
          description: Successful control of Customer Billing Procedure Instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureControlOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/execution:
    put:
      tags:
      - execute
      operationId: executeCustomerBillingProcedureUpdate
      summary: Invoke an automated execute action against the CustomerBillingProcedure instance
      description: Execute an automated action against an active bill (e.g. resubmit)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/CRCustomerBillingProcedureExecuteInputModel'
      responses:
        200:
          description: Successful execution of Customer Billing Procedure Instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureExecuteOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerBillingProcedureUpdate
      summary: Invoke a service request action against the CustomerBillingProcedure instance
      description: Request manual intervention with an active billing procedure
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/CRCustomerBillingProcedureRequestInputModel'
      responses:
        200:
          description: Successful requisition of Customer Billing Procedure Instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureRequestOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerBilling
      summary: Invoke a reporting action to obtain a Customer Billing Procedure instance related report
      description: Retrieve details about an active billing procedure
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCustomerBillingProcedureRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Customer Billing Procedure Instance
          schema:
            $ref: '#/definitions/CRCustomerBillingProcedureRetrieveOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/invoicing/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerBillingProcedureInvoicing
      summary: Update to any amendable fields of the Invoicing instance
      description: Update details of a generated invoice
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Invoicing Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Invoicing Request Payload
        schema:
          $ref: '#/definitions/BQInvoicingUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Invoicing Instance
          schema:
            $ref: '#/definitions/BQInvoicingUpdateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/invoicing/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerBillingProcedureInvoicing
      summary: Invoke a reporting action to obtain a Invoicing instance related report.
      description: Retrieve details about a sent invoice .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Invoicing Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQInvoicingRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Invoicing Instance Record
          schema:
            $ref: '#/definitions/BQInvoicingRetrieveOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/trackingandreminders/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCustomerBillingProcedureTrackingandReminders
      summary: Details of a new TrackingandReminders instance
      description: Initiate tracking and reminder task against an active billing procedure
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/BQTrackingandRemindersInitiateInputModel'
      responses:
        201:
          description: Successful initiation of Customer Billing Procedure instance
          schema:
            $ref: '#/definitions/BQTrackingandRemindersInitiateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/trackingandreminders/{bq-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCustomerBillingProcedureTrackingandRemindersUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, verify, reject etc. and tracking and reminder action
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: TrackingandReminders Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: TrackingandReminders request payload
        schema:
          $ref: '#/definitions/BQTrackingandRemindersExchangeInputModel'
      responses:
        200:
          description: Successful exchange of TrackingandReminders Instance Record
          schema:
            $ref: '#/definitions/BQTrackingandRemindersExchangeOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/trackingandreminders/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerBillingProcedureTrackingandReminders
      summary: Invoke a reporting action to obtain a TrackingandReminders instance related report.
      description: Retrieve details about tracking and reminder activity .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: TrackingandReminders Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQTrackingandRemindersRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved TrackingandReminders Instance Record
          schema:
            $ref: '#/definitions/BQTrackingandRemindersRetrieveOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/payments/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCustomerBillingProcedurePayments
      summary: Details of a new Payments instance
      description: Initiate payment processing against a billing transaction
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Billing Procedure Request Payload
        schema:
          $ref: '#/definitions/BQPaymentsInitiateInputModel'
      responses:
        201:
          description: Successful initiation of Customer Billing Procedure instance
          schema:
            $ref: '#/definitions/BQPaymentsInitiateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/payments/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerBillingProcedurePayments
      summary: Update to any amendable fields of the Payments instance
      description: Update payment details for a billing transaction
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Payments Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Payments Request Payload
        schema:
          $ref: '#/definitions/BQPaymentsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Payments Instance
          schema:
            $ref: '#/definitions/BQPaymentsUpdateOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/payments/{bq-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCustomerBillingProcedurePaymentsUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: confirm, reject etc. a payment being applied to a billing transaction 
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Payments Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Payments request payload
        schema:
          $ref: '#/definitions/BQPaymentsExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Payments Instance Record
          schema:
            $ref: '#/definitions/BQPaymentsExchangeOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/payments/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerBillingProcedurePayments
      summary: Invoke a reporting action to obtain a Payments instance related report.
      description: Retrieve payment processing details .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Payments Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQPaymentsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Payments Instance Record
          schema:
            $ref: '#/definitions/BQPaymentsRetrieveOutputModel'
  /customer-billing/{sd-reference-id}/customer-billing-procedure:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerBillingReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CustomerBilling Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /customer-billing/customer-billing-procedure/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerBillingBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'Invoicing',  'TrackingandReminders',  'Payments', ]
  /customer-billing/{sd-reference-id}/customer-billing-procedure/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerBillingBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Billing Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Billing Procedure Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- Payments
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- Payments Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [PaymentsID1, PaymentsID2]
