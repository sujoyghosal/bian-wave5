swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Product Broker Agreement'
 description: >

    ## Executive Summary:

    This service domain maintains product broker contractual and service level agreements and tracks and confirms compliance and service related activity/volume goals when necessary

    ## Example of Use:

    A monthly assessment is made of the performance of a broker against service levels and projected business volumes

    ## Description:

    This service domain administers the contractual, operational and financial aspects of the relationship with a 3rd party product or service provider. Note that other service domains handle different aspects of broker relations such as relationship management, commissions, billing and payments and operational support

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-product-broker-agreement/1.0.0
schemes:
 - https
paths:
  /product-broker-agreement/activation:
    post:
      tags:
      - activate
      operationId: activateSDProductBrokerAgreement
      summary: Activate  a SDProductBrokerAgreement servicing session
      description: Activate  a  SDProductBrokerAgreement servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDProductBrokerAgreement Request Payload
        schema:
          $ref: '#/definitions/SDProductBrokerAgreementActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDProductBrokerAgreementActivateOutputModel'
  /product-broker-agreement/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDProductBrokerAgreement
      summary: Update an active SDProductBrokerAgreement session configuration
      description: Update an active SDProductBrokerAgreement session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDProductBrokerAgreement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDProductBrokerAgreement Configure Request Payload
        schema:
          $ref: '#/definitions/SDProductBrokerAgreementConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDProductBrokerAgreementConfigureOutputModel'
  /product-broker-agreement/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDProductBrokerAgreement
      summary: "Capturing feedback against the SDProductBrokerAgreement service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDProductBrokerAgreement service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDProductBrokerAgreement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDProductBrokerAgreement Feedback Request Payload
        schema:
          $ref: '#/definitions/SDProductBrokerAgreementFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDProductBrokerAgreementFeedbackOutputModel'
  /product-broker-agreement/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDProductBrokerAgreement
      summary: Analytical views maintained by the SDProductBrokerAgreement service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDProductBrokerAgreement service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDProductBrokerAgreement Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDProductBrokerAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDProductBrokerAgreementRetrieveOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateBrokerAgreement
      summary: Details of a new BrokerAgreement instance
      description: Establish a product broker agreement (evaluate applicable rules)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: BrokerAgreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of new BrokerAgreement instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementEvaluateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateBrokerAgreement
      summary: Update to any amendable fields of the BrokerAgreement instance
      description: Update details of an active product broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementUpdateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlBrokerAgreementUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the processing of an agreement (e.g. terminate)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementControlInputModel'
      responses:
        200:
          description: Successful control of Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementControlOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeBrokerAgreementUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, reject etc an agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementExchangeOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestBrokerAgreementUpdate
      summary: Invoke a service request action against the BrokerAgreement instance
      description: Request check of proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementRequestInputModel'
      responses:
        200:
          description: Successful requisition of Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementRequestOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantBrokerAgreementUpdate
      summary: Invoke a grant request action from the BrokerAgreement instance to obtain access permission
      description: Obtain grant authority to act under the terms of the agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/CRBrokerAgreementGrantInputModel'
      responses:
        200:
          description: Successful grant of Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementGrantOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveProductBrokerAgreement
      summary: Invoke a reporting action to obtain a Broker Agreement instance related report
      description: Retrieve details about a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRBrokerAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Broker Agreement Instance
          schema:
            $ref: '#/definitions/CRBrokerAgreementRetrieveOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/legalterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateBrokerAgreementLegalTerms
      summary: Details of a new LegalTerms instance
      description: Establish the legal terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/BQLegalTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Broker Agreement instance
          schema:
            $ref: '#/definitions/BQLegalTermsEvaluateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateBrokerAgreementLegalTerms
      summary: Update to any amendable fields of the LegalTerms instance
      description: Update the legal terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: LegalTerms Request Payload
        schema:
          $ref: '#/definitions/BQLegalTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated LegalTerms Instance
          schema:
            $ref: '#/definitions/BQLegalTermsUpdateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestBrokerAgreementLegalTermsUpdate
      summary: Invoke a service request action against the LegalTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: LegalTerms request payload
        schema:
          $ref: '#/definitions/BQLegalTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of LegalTerms Instance Record
          schema:
            $ref: '#/definitions/BQLegalTermsRequestOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveBrokerAgreementLegalTerms
      summary: Invoke a reporting action to obtain a LegalTerms instance related report.
      description: Retrieve details about the legal terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQLegalTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved LegalTerms Instance Record
          schema:
            $ref: '#/definitions/BQLegalTermsRetrieveOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/regulatoryterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateBrokerAgreementRegulatoryTerms
      summary: Details of a new RegulatoryTerms instance
      description: Establish the regulatory terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Broker Agreement instance
          schema:
            $ref: '#/definitions/BQRegulatoryTermsEvaluateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateBrokerAgreementRegulatoryTerms
      summary: Update to any amendable fields of the RegulatoryTerms instance
      description: Update the regulatory terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: RegulatoryTerms Request Payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated RegulatoryTerms Instance
          schema:
            $ref: '#/definitions/BQRegulatoryTermsUpdateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestBrokerAgreementRegulatoryTermsUpdate
      summary: Invoke a service request action against the RegulatoryTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: RegulatoryTerms request payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of RegulatoryTerms Instance Record
          schema:
            $ref: '#/definitions/BQRegulatoryTermsRequestOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveBrokerAgreementRegulatoryTerms
      summary: Invoke a reporting action to obtain a RegulatoryTerms instance related report.
      description: Retrieve details about the regulatory terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQRegulatoryTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved RegulatoryTerms Instance Record
          schema:
            $ref: '#/definitions/BQRegulatoryTermsRetrieveOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/policyterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateBrokerAgreementPolicyTerms
      summary: Details of a new PolicyTerms instance
      description: Establish the corporate policy terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Broker Agreement Request Payload
        schema:
          $ref: '#/definitions/BQPolicyTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Broker Agreement instance
          schema:
            $ref: '#/definitions/BQPolicyTermsEvaluateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateBrokerAgreementPolicyTerms
      summary: Update to any amendable fields of the PolicyTerms instance
      description: Update the corporate policy terms for a broker agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: PolicyTerms Request Payload
        schema:
          $ref: '#/definitions/BQPolicyTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated PolicyTerms Instance
          schema:
            $ref: '#/definitions/BQPolicyTermsUpdateOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestBrokerAgreementPolicyTermsUpdate
      summary: Invoke a service request action against the PolicyTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: PolicyTerms request payload
        schema:
          $ref: '#/definitions/BQPolicyTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of PolicyTerms Instance Record
          schema:
            $ref: '#/definitions/BQPolicyTermsRequestOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveBrokerAgreementPolicyTerms
      summary: Invoke a reporting action to obtain a PolicyTerms instance related report.
      description: Retrieve details about the corporate policy terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQPolicyTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved PolicyTerms Instance Record
          schema:
            $ref: '#/definitions/BQPolicyTermsRetrieveOutputModel'
  /product-broker-agreement/{sd-reference-id}/broker-agreement:
    get:
      tags:
      - retrieve
      operationId: RetrieveProductBrokerAgreementReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- ProductBrokerAgreement Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /product-broker-agreement/broker-agreement/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveProductBrokerAgreementBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'LegalTerms',  'RegulatoryTerms',  'PolicyTerms', ]
  /product-broker-agreement/{sd-reference-id}/broker-agreement/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveProductBrokerAgreementBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Product Broker Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Broker Agreement Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- PolicyTerms
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- PolicyTerms Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [PolicyTermsID1, PolicyTermsID2]
