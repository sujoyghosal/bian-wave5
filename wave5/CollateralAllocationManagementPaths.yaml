swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Collateral Allocation Management'
 description: >

    ## Executive Summary:

    This service domain manages the holding, valuation and allocation of a customer's collateral assets to products on behalf of a customer

    ## Example of Use:

    A corporate applies for a new facility and the available collateral is checked to see if there is sufficient collateral on hand to allocate to the loan

    ## Description:

    This service domain manages the collateral holdings for a customer, tracking and authorizing the allocation of collateral to different financial facilities. The service domain oversees periodic valuations and collateral asset maintenance activity as needed. The service domain also provides reports on overall collateral usage which can include applying specific analytical assessments to support general risk management (e.g. exposure to property value fluctuations based on prevailing market conditions)

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-collateral-allocation-management/1.0.0
schemes:
 - https
paths:
  /collateral-allocation-management/activation:
    post:
      tags:
      - activate
      operationId: activateSDCollateralAllocationManagement
      summary: Activate  a SDCollateralAllocationManagement servicing session
      description: Activate  a  SDCollateralAllocationManagement servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCollateralAllocationManagement Request Payload
        schema:
          $ref: '#/definitions/SDCollateralAllocationManagementActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCollateralAllocationManagementActivateOutputModel'
  /collateral-allocation-management/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCollateralAllocationManagement
      summary: Update an active SDCollateralAllocationManagement session configuration
      description: Update an active SDCollateralAllocationManagement session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCollateralAllocationManagement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCollateralAllocationManagement Configure Request Payload
        schema:
          $ref: '#/definitions/SDCollateralAllocationManagementConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCollateralAllocationManagementConfigureOutputModel'
  /collateral-allocation-management/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCollateralAllocationManagement
      summary: "Capturing feedback against the SDCollateralAllocationManagement service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCollateralAllocationManagement service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCollateralAllocationManagement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCollateralAllocationManagement Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCollateralAllocationManagementFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCollateralAllocationManagementFeedbackOutputModel'
  /collateral-allocation-management/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCollateralAllocationManagement
      summary: Analytical views maintained by the SDCollateralAllocationManagement service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCollateralAllocationManagement service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCollateralAllocationManagement Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCollateralAllocationManagementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCollateralAllocationManagementRetrieveOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCollateralAssetAllocation
      summary: Details of a new CollateralAssetAllocation instance
      description: Record an asset provided for collateralization
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CollateralAssetAllocation Request Payload
        schema:
          $ref: '#/definitions/CRCollateralAssetAllocationInitiateInputModel'
      responses:
        201:
          description: Successful initiation of new CollateralAssetAllocation instance
          schema:
            $ref: '#/definitions/CRCollateralAssetAllocationInitiateOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCollateralAssetAllocation
      summary: Update to any amendable fields of the CollateralAssetAllocation instance
      description: Update details and status of a collateral asset and its allocation
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Collateral Asset Allocation Request Payload
        schema:
          $ref: '#/definitions/CRCollateralAssetAllocationUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Collateral Asset Allocation Instance
          schema:
            $ref: '#/definitions/CRCollateralAssetAllocationUpdateOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCollateralAllocationManagement
      summary: Invoke a reporting action to obtain a Collateral Asset Allocation instance related report
      description: Retrieve details and status of a collateral asset and its allocation
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCollateralAssetAllocationRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Collateral Asset Allocation Instance
          schema:
            $ref: '#/definitions/CRCollateralAssetAllocationRetrieveOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/initiation:
    post:
      tags:
      - initiate
      operationId: initiateCollateralAssetAllocationAllocation
      summary: Details of a new Allocation instance
      description: Allocate a collateral asset to a lending product
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Collateral Asset Allocation Request Payload
        schema:
          $ref: '#/definitions/BQAllocationInitiateInputModel'
      responses:
        201:
          description: Successful initiation of Collateral Asset Allocation instance
          schema:
            $ref: '#/definitions/BQAllocationInitiateOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCollateralAssetAllocationAllocation
      summary: Update to any amendable fields of the Allocation instance
      description: Update details about an allocation request and in force
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Allocation Request Payload
        schema:
          $ref: '#/definitions/BQAllocationUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Allocation Instance
          schema:
            $ref: '#/definitions/BQAllocationUpdateOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlCollateralAssetAllocationAllocationUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the status of an allocation (e.g. terminate)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Allocation request payload
        schema:
          $ref: '#/definitions/BQAllocationControlInputModel'
      responses:
        200:
          description: Successful control of Allocation Instance Record
          schema:
            $ref: '#/definitions/BQAllocationControlOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCollateralAssetAllocationAllocationUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept or reject a collateral allocation proposal
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Allocation request payload
        schema:
          $ref: '#/definitions/BQAllocationExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Allocation Instance Record
          schema:
            $ref: '#/definitions/BQAllocationExchangeOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/capture:
    put:
      tags:
      - capture
      operationId: captureCollateralAssetAllocationAllocationUpdate
      summary: Provide a structured input transaction/record (e.g. timesheet, event)
      description: Record usage details for a collateral allocation
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Allocation request payload
        schema:
          $ref: '#/definitions/BQAllocationCaptureInputModel'
      responses:
        200:
          description: Successful capture of Allocation Instance Record
          schema:
            $ref: '#/definitions/BQAllocationCaptureOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantCollateralAssetAllocationAllocationUpdate
      summary: Invoke a grant request action from the Allocation instance to obtain access permission
      description: Obtain permission for access to  the collateral asset
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Allocation request payload
        schema:
          $ref: '#/definitions/BQAllocationGrantInputModel'
      responses:
        200:
          description: Successful grant of Allocation Instance Record
          schema:
            $ref: '#/definitions/BQAllocationGrantOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/allocation/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCollateralAssetAllocationAllocation
      summary: Invoke a reporting action to obtain a Allocation instance related report.
      description: Retrieve details about a collateral allocation .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Allocation Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQAllocationRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Allocation Instance Record
          schema:
            $ref: '#/definitions/BQAllocationRetrieveOutputModel'
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation:
    get:
      tags:
      - retrieve
      operationId: RetrieveCollateralAllocationManagementReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CollateralAllocationManagement Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /collateral-allocation-management/collateral-asset-allocation/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCollateralAllocationManagementBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'Allocation', ]
  /collateral-allocation-management/{sd-reference-id}/collateral-asset-allocation/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCollateralAllocationManagementBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Collateral Allocation Management Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Collateral Asset Allocation Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- Allocation
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- Allocation Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [AllocationID1, AllocationID2]
