swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Servicing Mandate'
 description: >

    ## Executive Summary:

    This service domain maintains the allowed customer servicing arrangements for a service provider covering general access to the bank's products and services and optionally customer specific arrangements

    ## Example of Use:

    A third party provider has accessed the bank on behalf of a customer to initiate payment for a purchased product. The bank checks that the service provider is permitted to perform payments in general and whether there are specific constrains for this customer

    ## Description:

    The Servicing Mandate service domain maintains an agreement between the bank and an external party that governs/constrains the allowed access given to the bank's products and services. This access permission can be defined at two levels - overall for the service provider and at a more detailed level as applied to a specific customer.

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-servicing-mandate/1.0.0
schemes:
 - https
paths:
  /servicing-mandate/activation:
    post:
      tags:
      - activate
      operationId: activateSDServicingMandate
      summary: Activate  a SDServicingMandate servicing session
      description: Activate  a  SDServicingMandate servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDServicingMandate Request Payload
        schema:
          $ref: '#/definitions/SDServicingMandateActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDServicingMandateActivateOutputModel'
  /servicing-mandate/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDServicingMandate
      summary: Update an active SDServicingMandate session configuration
      description: Update an active SDServicingMandate session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDServicingMandate Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDServicingMandate Configure Request Payload
        schema:
          $ref: '#/definitions/SDServicingMandateConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDServicingMandateConfigureOutputModel'
  /servicing-mandate/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDServicingMandate
      summary: "Capturing feedback against the SDServicingMandate service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDServicingMandate service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDServicingMandate Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDServicingMandate Feedback Request Payload
        schema:
          $ref: '#/definitions/SDServicingMandateFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDServicingMandateFeedbackOutputModel'
  /servicing-mandate/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDServicingMandate
      summary: Analytical views maintained by the SDServicingMandate service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDServicingMandate service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDServicingMandate Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDServicingMandateRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDServicingMandateRetrieveOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateServicingMandateAgreement
      summary: Details of a new ServicingMandateAgreement instance
      description: Agree terms for a third party servicing mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: ServicingMandateAgreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of new ServicingMandateAgreement instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementEvaluateOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateServicingMandateAgreement
      summary: Update to any amendable fields of the ServicingMandateAgreement instance
      description: Update terms for a third part mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementUpdateOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlServicingMandateAgreementUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the handling of a third party mandate (e.g. terminate)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementControlInputModel'
      responses:
        200:
          description: Successful control of Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementControlOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeServicingMandateAgreementUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, verify, reject, etc a third party servicing mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementExchangeOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestServicingMandateAgreementUpdate
      summary: Invoke a service request action against the ServicingMandateAgreement instance
      description: Request manual intervention in a third party mandate (e.g. reinstate after production issues)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementRequestInputModel'
      responses:
        200:
          description: Successful requisition of Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementRequestOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantServicingMandateAgreementUpdate
      summary: Invoke a grant request action from the ServicingMandateAgreement instance to obtain access permission
      description: Grant access under the third party mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/CRServicingMandateAgreementGrantInputModel'
      responses:
        200:
          description: Successful grant of Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementGrantOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveServicingMandate
      summary: Invoke a reporting action to obtain a Servicing Mandate Agreement instance related report
      description: Retrieve details about a third party mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRServicingMandateAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Servicing Mandate Agreement Instance
          schema:
            $ref: '#/definitions/CRServicingMandateAgreementRetrieveOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateServicingMandateAgreementCustomerMandate
      summary: Details of a new CustomerMandate instance
      description: Agree terms for a customer mandate under the service mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Servicing Mandate Agreement Request Payload
        schema:
          $ref: '#/definitions/BQCustomerMandateEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Servicing Mandate Agreement instance
          schema:
            $ref: '#/definitions/BQCustomerMandateEvaluateOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateServicingMandateAgreementCustomerMandate
      summary: Update to any amendable fields of the CustomerMandate instance
      description: Update details of the customer mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: CustomerMandate Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerMandate Request Payload
        schema:
          $ref: '#/definitions/BQCustomerMandateUpdateInputModel'
      responses:
        200:
          description: Successfully Updated CustomerMandate Instance
          schema:
            $ref: '#/definitions/BQCustomerMandateUpdateOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/{bq-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlServicingMandateAgreementCustomerMandateUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the handling of the customer mandate (e.g. suspend)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: CustomerMandate Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerMandate request payload
        schema:
          $ref: '#/definitions/BQCustomerMandateControlInputModel'
      responses:
        200:
          description: Successful control of CustomerMandate Instance Record
          schema:
            $ref: '#/definitions/BQCustomerMandateControlOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/{bq-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeServicingMandateAgreementCustomerMandateUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, verify, reject etc. a customer mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: CustomerMandate Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerMandate request payload
        schema:
          $ref: '#/definitions/BQCustomerMandateExchangeInputModel'
      responses:
        200:
          description: Successful exchange of CustomerMandate Instance Record
          schema:
            $ref: '#/definitions/BQCustomerMandateExchangeOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/{bq-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantServicingMandateAgreementCustomerMandateUpdate
      summary: Invoke a grant request action from the CustomerMandate instance to obtain access permission
      description: Grant access under the customer mandate
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: CustomerMandate Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerMandate request payload
        schema:
          $ref: '#/definitions/BQCustomerMandateGrantInputModel'
      responses:
        200:
          description: Successful grant of CustomerMandate Instance Record
          schema:
            $ref: '#/definitions/BQCustomerMandateGrantOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/customermandate/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveServicingMandateAgreementCustomerMandate
      summary: Invoke a reporting action to obtain a CustomerMandate instance related report.
      description: Retrieve details about the customer mandate .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: CustomerMandate Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQCustomerMandateRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved CustomerMandate Instance Record
          schema:
            $ref: '#/definitions/BQCustomerMandateRetrieveOutputModel'
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement:
    get:
      tags:
      - retrieve
      operationId: RetrieveServicingMandateReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- ServicingMandate Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /servicing-mandate/servicing-mandate-agreement/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveServicingMandateBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'CustomerMandate', ]
  /servicing-mandate/{sd-reference-id}/servicing-mandate-agreement/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveServicingMandateBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Servicing Mandate Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Servicing Mandate Agreement Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- CustomerMandate
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CustomerMandate Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [CustomerMandateID1, CustomerMandateID2]
