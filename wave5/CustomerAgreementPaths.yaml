swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Customer Agreement'
 description: >

    ## Executive Summary:

    This service domain maintains the master customer agreement/legal contract. Note that a customer can be a complex corporate entity with many subsidiaries operating in different geopolitical areas. The customer agreement is linked to as many Sales Product Agreements as needed for all in-force products

    ## Example of Use:

    An new customer's master agreement is established prior to negotiating and setting up the underlying product specific agreements

    ## Description:

    The Customer Agreement service domain captures and maintains the master legal terms of conditions in force for a customer (which as noted can be a complex multinational with many underlying product and service specific agreements).

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-customer-agreement/1.0.0
schemes:
 - https
paths:
  /customer-agreement/activation:
    post:
      tags:
      - activate
      operationId: activateSDCustomerAgreement
      summary: Activate  a SDCustomerAgreement servicing session
      description: Activate  a  SDCustomerAgreement servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCustomerAgreement Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAgreementActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCustomerAgreementActivateOutputModel'
  /customer-agreement/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCustomerAgreement
      summary: Update an active SDCustomerAgreement session configuration
      description: Update an active SDCustomerAgreement session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAgreement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerAgreement Configure Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAgreementConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCustomerAgreementConfigureOutputModel'
  /customer-agreement/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCustomerAgreement
      summary: "Capturing feedback against the SDCustomerAgreement service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCustomerAgreement service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAgreement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerAgreement Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAgreementFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCustomerAgreementFeedbackOutputModel'
  /customer-agreement/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCustomerAgreement
      summary: Analytical views maintained by the SDCustomerAgreement service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCustomerAgreement service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAgreement Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCustomerAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCustomerAgreementRetrieveOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAgreement
      summary: Details of a new CustomerAgreement instance
      description: Establish a customer master agreement (evaluate applicable rules)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerAgreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of new CustomerAgreement instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementEvaluateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAgreement
      summary: Update to any amendable fields of the CustomerAgreement instance
      description: Update details of an active customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementUpdateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlCustomerAgreementUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the processing of an agreement (e.g. terminate)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementControlInputModel'
      responses:
        200:
          description: Successful control of Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementControlOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCustomerAgreementUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, reject etc an agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementExchangeOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerAgreementUpdate
      summary: Invoke a service request action against the CustomerAgreement instance
      description: Request check of proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementRequestInputModel'
      responses:
        200:
          description: Successful requisition of Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementRequestOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantCustomerAgreementUpdate
      summary: Invoke a grant request action from the CustomerAgreement instance to obtain access permission
      description: Obtain grant authority to act under the terms of the agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAgreementGrantInputModel'
      responses:
        200:
          description: Successful grant of Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementGrantOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAgreement
      summary: Invoke a reporting action to obtain a Customer Agreement instance related report
      description: Retrieve details about a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCustomerAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Customer Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAgreementRetrieveOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/legalterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAgreementLegalTerms
      summary: Details of a new LegalTerms instance
      description: Establish the legal terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/BQLegalTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Customer Agreement instance
          schema:
            $ref: '#/definitions/BQLegalTermsEvaluateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAgreementLegalTerms
      summary: Update to any amendable fields of the LegalTerms instance
      description: Update the legal terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: LegalTerms Request Payload
        schema:
          $ref: '#/definitions/BQLegalTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated LegalTerms Instance
          schema:
            $ref: '#/definitions/BQLegalTermsUpdateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerAgreementLegalTermsUpdate
      summary: Invoke a service request action against the LegalTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: LegalTerms request payload
        schema:
          $ref: '#/definitions/BQLegalTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of LegalTerms Instance Record
          schema:
            $ref: '#/definitions/BQLegalTermsRequestOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/legalterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAgreementLegalTerms
      summary: Invoke a reporting action to obtain a LegalTerms instance related report.
      description: Retrieve details about the legal terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: LegalTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQLegalTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved LegalTerms Instance Record
          schema:
            $ref: '#/definitions/BQLegalTermsRetrieveOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/regulatoryterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAgreementRegulatoryTerms
      summary: Details of a new RegulatoryTerms instance
      description: Establish the regulatory terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Customer Agreement instance
          schema:
            $ref: '#/definitions/BQRegulatoryTermsEvaluateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAgreementRegulatoryTerms
      summary: Update to any amendable fields of the RegulatoryTerms instance
      description: Update the regulatory terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: RegulatoryTerms Request Payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated RegulatoryTerms Instance
          schema:
            $ref: '#/definitions/BQRegulatoryTermsUpdateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerAgreementRegulatoryTermsUpdate
      summary: Invoke a service request action against the RegulatoryTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: RegulatoryTerms request payload
        schema:
          $ref: '#/definitions/BQRegulatoryTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of RegulatoryTerms Instance Record
          schema:
            $ref: '#/definitions/BQRegulatoryTermsRequestOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/regulatoryterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAgreementRegulatoryTerms
      summary: Invoke a reporting action to obtain a RegulatoryTerms instance related report.
      description: Retrieve details about the regulatory terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: RegulatoryTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQRegulatoryTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved RegulatoryTerms Instance Record
          schema:
            $ref: '#/definitions/BQRegulatoryTermsRetrieveOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/policyterms/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAgreementPolicyTerms
      summary: Details of a new PolicyTerms instance
      description: Establish the corporate policy terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Agreement Request Payload
        schema:
          $ref: '#/definitions/BQPolicyTermsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Customer Agreement instance
          schema:
            $ref: '#/definitions/BQPolicyTermsEvaluateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAgreementPolicyTerms
      summary: Update to any amendable fields of the PolicyTerms instance
      description: Update the corporate policy terms for a customer master agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: PolicyTerms Request Payload
        schema:
          $ref: '#/definitions/BQPolicyTermsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated PolicyTerms Instance
          schema:
            $ref: '#/definitions/BQPolicyTermsUpdateOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerAgreementPolicyTermsUpdate
      summary: Invoke a service request action against the PolicyTerms instance
      description: Request check of a proposed activity is compatible
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: PolicyTerms request payload
        schema:
          $ref: '#/definitions/BQPolicyTermsRequestInputModel'
      responses:
        200:
          description: Successful requisition of PolicyTerms Instance Record
          schema:
            $ref: '#/definitions/BQPolicyTermsRequestOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/policyterms/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAgreementPolicyTerms
      summary: Invoke a reporting action to obtain a PolicyTerms instance related report.
      description: Retrieve details about the corporate policy terms of an agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: PolicyTerms Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQPolicyTermsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved PolicyTerms Instance Record
          schema:
            $ref: '#/definitions/BQPolicyTermsRetrieveOutputModel'
  /customer-agreement/{sd-reference-id}/customer-agreement:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAgreementReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CustomerAgreement Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /customer-agreement/customer-agreement/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAgreementBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'LegalTerms',  'RegulatoryTerms',  'PolicyTerms', ]
  /customer-agreement/{sd-reference-id}/customer-agreement/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAgreementBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Agreement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Agreement Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- PolicyTerms
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- PolicyTerms Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [PolicyTermsID1, PolicyTermsID2]
