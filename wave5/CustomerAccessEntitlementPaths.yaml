swagger: '2.0'
info:
 version: '1.0.0'
 title: 'Service Domain - Customer Access Entitlement'
 description: >

    ## Executive Summary:

    This service domain maintains the details of the allowed channel/device based access to products and services that the customer has in place. This profile is referenced in servicing and fulfillment activity and may include customer preferences and access limits/constraints that span multiple products.

    ## Example of Use:

    Example of use:A consumer customer contacts the call center and her access profile is used to determine what products and services can be accessed through this channel

    ## Description:

    This profile is used for servicing and fulfillment controls covering products, services and channel/device usage entitlements. It is referenced for channel access control and utilization limits that may span multiple products. For example there can be a limit on total ATM withdrawals for a customer for all active products over a 24 hour period.

host: virtserver.swaggerhub.com
basePath: /BIAN/sd-customer-access-entitlement/1.0.0
schemes:
 - https
paths:
  /customer-access-entitlement/activation:
    post:
      tags:
      - activate
      operationId: activateSDCustomerAccessEntitlement
      summary: Activate  a SDCustomerAccessEntitlement servicing session
      description: Activate  a  SDCustomerAccessEntitlement servicing session
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: SDCustomerAccessEntitlement Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAccessEntitlementActivateInputModel'
      responses:
        201:
          description: Successful Service Activation
          schema:
            $ref: '#/definitions/SDCustomerAccessEntitlementActivateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/configuration:
    put:
      tags:
      - configure
      operationId: configureSDCustomerAccessEntitlement
      summary: Update an active SDCustomerAccessEntitlement session configuration
      description: Update an active SDCustomerAccessEntitlement session configuration
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAccessEntitlement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerAccessEntitlement Configure Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAccessEntitlementConfigureInputModel'
      responses:
        200:
          description: Successful Service Configuration
          schema:
            $ref: '#/definitions/SDCustomerAccessEntitlementConfigureOutputModel'
  /customer-access-entitlement/{sd-reference-id}/feedback:
    put:
      tags:
      - feedback
      operationId: feedbackSDCustomerAccessEntitlement
      summary: "Capturing feedback against the SDCustomerAccessEntitlement service that can target different levels of detail: SD/CR/BQ"
      description:  "Capturing feedback against the SDCustomerAccessEntitlement service that can target different levels of detail: SD/CR/BQ"
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAccessEntitlement Servicing Session Reference
        type: string
      - in: body
        name: body
        required: true
        description: SDCustomerAccessEntitlement Feedback Request Payload
        schema:
          $ref: '#/definitions/SDCustomerAccessEntitlementFeedbackInputModel'
      responses:
        200:
          description: Successful Service Feedback
          schema:
            $ref: '#/definitions/SDCustomerAccessEntitlementFeedbackOutputModel'
  /customer-access-entitlement/{sd-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveSDCustomerAccessEntitlement
      summary: Analytical views maintained by the SDCustomerAccessEntitlement service center for management reporting and analysis purposes
      description: Analytical views maintained by the SDCustomerAccessEntitlement service center for management reporting and analysis purposes
      produces:
      - application/json
      parameters:
      - in: path
        name: sd-reference-id
        required: true
        description: SDCustomerAccessEntitlement Servicing Session Reference
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/SDCustomerAccessEntitlementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successful Service Retrieve
          schema:
            $ref: '#/definitions/SDCustomerAccessEntitlementRetrieveOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAccessProfileAgreement
      summary: Details of a new CustomerAccessProfileAgreement instance
      description: Establish a customer access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: CustomerAccessProfileAgreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of new CustomerAccessProfileAgreement instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementEvaluateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAccessProfileAgreement
      summary: Update to any amendable fields of the CustomerAccessProfileAgreement instance
      description: Update details of a customer access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementUpdateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/control:
    put:
      tags:
      - control
      operationId: controlCustomerAccessProfileAgreementUpdate
      summary: Request specific processing (e.g. suspend, skip, terminate)
      description: Control the handling of a customer access profile (e.g. suspend)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementControlInputModel'
      responses:
        200:
          description: Successful control of Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementControlOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/exchange:
    put:
      tags:
      - exchange
      operationId: exchangeCustomerAccessProfileAgreementUpdate
      summary: Handle an external exchange (e.g. accept, reject, verify)
      description: Accept, verify, etc. a customer access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementExchangeInputModel'
      responses:
        200:
          description: Successful exchange of Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementExchangeOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/requisition:
    put:
      tags:
      - request
      operationId: requestCustomerAccessProfileAgreementUpdate
      summary: Invoke a service request action against the CustomerAccessProfileAgreement instance
      description: Request manual intervention in a customer access profile (e.g. handle exceptions)
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementRequestInputModel'
      responses:
        200:
          description: Successful requisition of Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementRequestOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/grant:
    put:
      tags:
      - grant
      operationId: grantCustomerAccessProfileAgreementUpdate
      summary: Invoke a grant request action from the CustomerAccessProfileAgreement instance to obtain access permission
      description: Grant access under the agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/CRCustomerAccessProfileAgreementGrantInputModel'
      responses:
        200:
          description: Successful grant of Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementGrantOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAccessEntitlement
      summary: Invoke a reporting action to obtain a Customer Access Profile Agreement instance related report
      description: Retrieve details about a customer access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/CRCustomerAccessProfileAgreementRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully Retrieved Customer Access Profile Agreement Instance
          schema:
            $ref: '#/definitions/CRCustomerAccessProfileAgreementRetrieveOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/restrictions/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAccessProfileAgreementRestrictions
      summary: Details of a new Restrictions instance
      description: Establish restrictions for the access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/BQRestrictionsEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Customer Access Profile Agreement instance
          schema:
            $ref: '#/definitions/BQRestrictionsEvaluateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/restrictions/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAccessProfileAgreementRestrictions
      summary: Update to any amendable fields of the Restrictions instance
      description: Update details for the restrictions in the agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Restrictions Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Restrictions Request Payload
        schema:
          $ref: '#/definitions/BQRestrictionsUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Restrictions Instance
          schema:
            $ref: '#/definitions/BQRestrictionsUpdateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/restrictions/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAccessProfileAgreementRestrictions
      summary: Invoke a reporting action to obtain a Restrictions instance related report.
      description: Retrieve details about the restrictions in the agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Restrictions Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQRestrictionsRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Restrictions Instance Record
          schema:
            $ref: '#/definitions/BQRestrictionsRetrieveOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/preferences/evaluation:
    post:
      tags:
      - evaluate
      operationId: evaluateCustomerAccessProfileAgreementPreferences
      summary: Details of a new Preferences instance
      description: Establish preferences for the access profile agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Customer Access Profile Agreement Request Payload
        schema:
          $ref: '#/definitions/BQPreferencesEvaluateInputModel'
      responses:
        201:
          description: Successful evaluation of Customer Access Profile Agreement instance
          schema:
            $ref: '#/definitions/BQPreferencesEvaluateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/preferences/{bq-reference-id}/update:
    put:
      tags:
      - update
      operationId: updateCustomerAccessProfileAgreementPreferences
      summary: Update to any amendable fields of the Preferences instance
      description: Update details for the preferences in the agreement
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Preferences Instance Reference
        required: true
        type: string
      - in: body
        name: body
        required: true
        description: Preferences Request Payload
        schema:
          $ref: '#/definitions/BQPreferencesUpdateInputModel'
      responses:
        200:
          description: Successfully Updated Preferences Instance
          schema:
            $ref: '#/definitions/BQPreferencesUpdateOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/preferences/{bq-reference-id}/:
    get:
      tags:
      - retrieve
      operationId: retrieveCustomerAccessProfileAgreementPreferences
      summary: Invoke a reporting action to obtain a Preferences instance related report.
      description: Retrieve details about the preferences in the agreement .The retrieve operation can have sub qualifiers beyond BQ level, please reffer to the model heriarchy to extend beyond BQ level into APIs retrieving sub-qualifier level information.
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - name: bq-reference-id
        in: path
        description: Preferences Instance Reference
        required: true
        type: string
      - in: query
        name: queryparams
        required: false
        description: Query params from schema '#/definitions/BQPreferencesRetrieveInputModel'
        type: string
      responses:
        200:
          description: Successfully  Retrieved Preferences Instance Record
          schema:
            $ref: '#/definitions/BQPreferencesRetrieveOutputModel'
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAccessEntitlementReferenceIds
      summary: Retrieve CR Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- CustomerAccessEntitlement Instance Status='active'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: ['ID726464', 'ID7264642']
  /customer-access-entitlement/customer-access-profile-agreement/behavior-qualifiers/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAccessEntitlementBehaviorQualifiers
      summary: Retrieve BQ names
      produces:
      - application/json
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [ 'Restrictions',  'Preferences', ]
  /customer-access-entitlement/{sd-reference-id}/customer-access-profile-agreement/{cr-reference-id}/{behavior-qualifier}/:
    get:
      tags:
      - retrieve
      operationId: RetrieveCustomerAccessEntitlementBehaviorQualifierReferenceIds
      summary: Retrieve Behavior Qualifier Reference Ids
      produces:
      - application/json
      parameters:
      - name: sd-reference-id
        in: path
        description: Customer Access Entitlement Servicing Session Reference
        required: true
        type: string
      - name: cr-reference-id
        in: path
        description: Customer Access Profile Agreement Instance Reference
        required: true
        type: string
      - name : behavior-qualifier
        in: path
        description: Behavior Qualifier Name. ex- Preferences
        required: true
        type: string
      - name : collection-filter
        in: query
        description: Filter to refine the result set. ex- Preferences Instance Status = 'pending'
        required: false
        type: string
      responses:
        200:
          description: Successful
          schema:
            type: array
            items:
              type: string
            example: [PreferencesID1, PreferencesID2]
